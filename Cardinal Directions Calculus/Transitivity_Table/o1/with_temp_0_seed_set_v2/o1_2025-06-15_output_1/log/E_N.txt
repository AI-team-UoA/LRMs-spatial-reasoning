PROMPT: Let E and N be cardinal direction relations. If region x is E of region y and region y is N of region z, then which could the possible relations between region x and region z be?

ANSWER:

From the defining inequalities one sees first that, because x is E of y we have

(1)  supx(y) ≤ infx(x),  
(2)  infy(y) ≤ infy(x),  
(3)  supy(x) ≤ supy(y),

and because y is N of z we have

(4)  supy(z) ≤ infy(y),  
(5)  infx(z) ≤ infx(y),  
(6)  supx(y) ≤ supx(z).

A key implication is that z is strictly below y in the y‐direction (from (4)) and y is at or below x in the y‐direction (from (2)), so chaining

  supy(z) ≤ infy(y) ≤ infy(x)

tells us the top of z is at or below the bottom of x.  Hence z is necessarily “south” of x, so in any of the nine cardinal relations between x and z, the vertical part must be “N” (meaning x is above z).

What remains is to check the possible horizontal alignments consistent with (1) and (6).  Because (1) says x is to the right of y and (6) says z is at least as wide as y, x can end up anywhere from “fully left” of z (if the bounding boxes are arranged just so) through “fully right” of z, or even horizontally overlapping if z’s box is large enough.  In the language of the nine relations, that corresponds exactly to:

• x N z (they are vertically separated with x above z, horizontally overlapping),  
• x NW z (x is above and to the left of z), or  
• x NE z (x is above and to the right of z).

All other combinations fail one or another of the bounding‐box inequalities once one checks them carefully.  Consequently, the only possible cardinal relations between x and z are  
N, NW, or NE.


ELAPSED TIME: 58.67 seconds
REASONING TOKENS: 8448
COMPLETION TOKENS: 8920