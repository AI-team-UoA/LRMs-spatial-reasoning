For r1: N, r2: N, answer: If x N y and y N z, then x must also be N of z. No other cardinal-direction relation is possible.
For r1: N, r2: W, answer: From  
x N y:â€ƒsupy(y) â‰¤ infy(x),â€ƒinfx(y) â‰¤ infx(x),â€ƒsupx(x) â‰¤ supx(y)  
y W z:â€ƒsupx(y) â‰¤ infx(z),â€ƒinfy(z) â‰¤ infy(y),â€ƒsupy(y) â‰¤ supy(z)

Hence  
supx(x) â‰¤ supx(y) â‰¤ infx(z)â€ƒâ‡’â€ƒsupx(x) â‰¤ infx(z)â€ƒâ€ƒ(x is to the west of z).

The vertical order is not fixed:  
â€¢ If supy(z) â‰¤ infy(x) then z lies wholly below x, giving x NW z.  
â€¢ If supy(z) > infy(x) (and supy(x) â‰¤ supy(z) can be arranged) then the two boxes overlap vertically, giving x W z.

No other cardinal relation can satisfy all the required inequalities.  

Possible relations between x and z: W or NW.
For r1: N, r2: E, answer: E, NE, SE
For r1: N, r2: S, answer: N, S, B
For r1: N, r2: NW, answer: NW
For r1: N, r2: SW, answer: NW, W, SW
For r1: N, r2: SE, answer: E, NE, SE
For r1: N, r2: NE, answer: NE
For r1: N, r2: B, answer: The information we have is

1. x N yâ€ƒâ‡’â€ƒsupy(y) â‰¤ infy(x),â€ƒinfx(y) â‰¤ infx(x) and supx(x) â‰¤ supx(y).
2. y B zâ€ƒâ‡’â€ƒinfx(z) â‰¤ infx(y),â€ƒsupx(y) â‰¤ supx(z),â€ƒinfy(z) â‰¤ infy(y) and supy(y) â‰¤ supy(z).

From these inequalities we get

infx(z) â‰¤ infx(y) â‰¤ infx(x)â€ƒandâ€ƒsupx(x) â‰¤ supx(y) â‰¤ supx(z),

so the xâ€“extent of x is contained in that of z.  
For the yâ€“extent we have

infy(z) â‰¤ infy(y) â‰¤ supy(y) â‰¤ infy(x).

Hence infy(z) â‰¤ infy(x).  What we do not know is the relation between supy(x) and supy(z):

â€¢ If supy(x) â‰¤ supy(z) then the yâ€“interval of x is also contained in that of z, and all four bounding-box inequalities for x B z are satisfied.  
â€¢ If supy(z) â‰¤ infy(x) then z lies completely below x, giving x N z.

No other basic relation can hold, because horizontally x is already completely inside z (so E, W, NE, NW, SE, SW are impossible) and vertically we cannot have x below z (so S is impossible).

Therefore the only possible cardinal direction relations between x and z are

B  (x is inside the bounding box of z)  
N  (x is north of z).

So the answer is: N or B.
For r1: W, r2: N, answer: N, NW
For r1: W, r2: W, answer: W
For r1: W, r2: E, answer: Depending on the horizontal placement of the two regions, the only cardinal-direction relations that can satisfy all the given constraints are  

B  (x is inside the bounding box of z),  
W  (x is West of z), or  
E  (x is East of z).
For r1: W, r2: S, answer: S, SW
For r1: W, r2: NW, answer: NW
For r1: W, r2: SW, answer: SW
For r1: W, r2: SE, answer: S, SW, SE
For r1: W, r2: NE, answer: N, NE, NW
For r1: W, r2: B, answer: The only relations that can be satisfied are

B  (x is inside the bounding box of z)   
W  (x is to the West of z)

So x is either B of z or W of z.
For r1: E, r2: N, answer: Given 
â€¢ x E yâ€ƒâ†’â€ƒsupx(y) â‰¤ infx(x)â€ƒandâ€ƒinfy(y) â‰¤ infy(x) â‰¤ supy(x) â‰¤ supy(y)  
â€¢ y N zâ€ƒâ†’â€ƒsupy(z) â‰¤ infy(y)â€ƒandâ€ƒinfx(z) â‰¤ infx(y) â‰¤ supx(y) â‰¤ supx(z)

From these inequalities we obtain  
supy(z) â‰¤ infy(y) â‰¤ infy(x)â€ƒâ‡’â€ƒsupy(z) â‰¤ infy(x)â€ƒâ€ƒ(so z lies completely south of x)

Hence x is north of z in the vertical sense.  
Horizontally we only know  
infx(z) â‰¤ infx(y) < supx(y) â‰¤ infx(x)  

The right bound of z, supx(z), can be either  
â€¢ â‰¤ infx(x)â€ƒ(in which case z is entirely west of x), or  
â€¢ â‰¥ supx(x)â€ƒ(in which case x is contained in the horizontal extent of z).

Therefore two different cardinal relations between x and z are possible:

1. NE (North-East)â€ƒifâ€ƒsupx(z) â‰¤ infx(x)  
2. N  (North)â€ƒâ€ƒ  ifâ€ƒsupx(x) â‰¤ supx(z)

No other cardinal relation can satisfy all the inequalities simultaneously.

Possible relations between region x and region z:  N, NE
For r1: E, r2: W, answer: E, W, B
For r1: E, r2: E, answer: E
For r1: E, r2: S, answer: S, SE
For r1: E, r2: NW, answer: The only cardinal direction relations that can hold between x and z are  
N, NE, and NW.
For r1: E, r2: SW, answer: S, SW, SE
For r1: E, r2: SE, answer: SE
For r1: E, r2: NE, answer: From  

x E yâ€ƒâ‡’â€ƒsupx(y) â‰¤ infx(x),â€ƒinfy(y) â‰¤ infy(x),â€ƒsupy(x) â‰¤ supy(y)  
y NE zâ€ƒâ‡’â€ƒsupx(z) â‰¤ infx(y),â€ƒsupy(z) â‰¤ infy(y)

Chain the inequalities:

supx(z) â‰¤ infx(y) â‰¤ supx(y) â‰¤ infx(x)â€ƒâ‡’â€ƒsupx(z) â‰¤ infx(x)  
supy(z) â‰¤ infy(y) â‰¤ infy(x)â€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ€ƒâ‡’â€ƒsupy(z) â‰¤ infy(x)

Thus both  
supx(z) â‰¤ infx(x)â€ƒandâ€ƒsupy(z) â‰¤ infy(x)  
hold.  

These are exactly the two conditions for x NE z.

No other cardinal-direction definition can be satisfied simultaneously with these two strict constraints (the additional requirements for N, E, B, etc. all fail). Therefore the only possible relation between x and z is

NE
For r1: E, r2: B, answer: E or B
For r1: S, r2: N, answer: N, S, B
For r1: S, r2: W, answer: W, SW
For r1: S, r2: E, answer: E, SE
For r1: S, r2: S, answer: The only relation that can hold between x and z is S (South).
For r1: S, r2: NW, answer: NW, W, SW
For r1: S, r2: SW, answer: SW
For r1: S, r2: SE, answer: SE
For r1: S, r2: NE, answer: NE, E or SE
For r1: S, r2: B, answer: The relation between x and z can only be

S  or  B
For r1: NW, r2: N, answer: NW
For r1: NW, r2: W, answer: NW, W
For r1: NW, r2: E, answer: B, N, NE, E, NW, W
For r1: NW, r2: S, answer: The relations that can hold between x and z are

N, S, W, NW, SW, B
For r1: NW, r2: NW, answer: NW
For r1: NW, r2: SW, answer: NW, W, SW
For r1: NW, r2: SE, answer: N, NE, E, SE, S, SW, W, NW, B
For r1: NW, r2: NE, answer: NW, N, NE
For r1: NW, r2: B, answer: NW, N, W, B
For r1: SW, r2: N, answer: Possible relations:  N, S, W, NW, SW, B
For r1: SW, r2: W, answer: W, SW
For r1: SW, r2: E, answer: The composition
â€ƒâ€ƒx SW y â€ƒandâ€ƒ y E z
can be realised with x and z in several different relative positions.  
The relations that can occur between x and z are

SW ,â€ƒW ,â€ƒS ,â€ƒSE ,â€ƒE ,â€ƒB
For r1: SW, r2: S, answer: SW, S
For r1: SW, r2: NW, answer: SW, W, or NW
For r1: SW, r2: SW, answer: SW
For r1: SW, r2: SE, answer: SW, S, SE
For r1: SW, r2: NE, answer: N, NE, E, SE, S, SW, W, NW, B
For r1: SW, r2: B, answer: SW, W, S, B
For r1: SE, r2: N, answer: B, S, SE, E, NE, N
For r1: SE, r2: W, answer: B, S, SE, E, W, SW
For r1: SE, r2: E, answer: E, SE
For r1: SE, r2: S, answer: S, SE
For r1: SE, r2: NW, answer: Any one of the nine relations can occur; that is, between x and z every relation

N, NE, E, SE, S, SW, W, NW, B

is possible.
For r1: SE, r2: SW, answer: The only relations that can hold between x and z are  
SW, S or SE.
For r1: SE, r2: SE, answer: SE
For r1: SE, r2: NE, answer: NE, E, SE
For r1: SE, r2: B, answer: The constraints

1. x SE yâ€ƒâ‡’â€ƒsupx(y) â‰¤ infx(x)â€ƒandâ€ƒsupy(x) â‰¤ infy(y)
2. y B zâ€ƒâ‡’â€ƒinfx(z) â‰¤ infx(y),â€ƒsupx(y) â‰¤ supx(z),â€ƒinfy(z) â‰¤ infy(y),â€ƒsupy(y) â‰¤ supy(z)

imply

â€¢ infx(z) â‰¤ infx(y) â‰¤ supx(y) â‰¤ infx(x)â€ƒâ€ƒâ†’â€ƒinfx(z) â‰¤ infx(x)  
â€¢ supy(x) â‰¤ infy(y)â€ƒandâ€ƒinfy(z) â‰¤ infy(y)

From these inequalities we can realise the following relations between x and z by choosing suitable bounding boxes for z:

Bâ€ƒ(x is inside the bounding box of z)  
Sâ€ƒ(x is South of z)  
Eâ€ƒ(x is East of z)  
SEâ€ƒ(x is South-East of z)

For the other five relations at least one defining inequality contradicts the chain deduced above, so they cannot occur.

Therefore the possible relations between x and z are:

B, S, E, SE
For r1: NE, r2: N, answer: The relation between x and z can only be

N or NE
For r1: NE, r2: W, answer: The composition NE âˆ˜ W can yield any of the following cardinal-direction relations between x and z:

N, NE, NW, E, W, B
For r1: NE, r2: E, answer: E, NE
For r1: NE, r2: S, answer: N, NE, E, SE, S, B
For r1: NE, r2: NW, answer: The only relations that can result between x and z are  
N, NE, NW
For r1: NE, r2: SW, answer: N, NE, E, SE, S, SW, W, NW, B
For r1: NE, r2: SE, answer: E, NE, SE
For r1: NE, r2: NE, answer: NE
For r1: NE, r2: B, answer: The possible relations are:  N, NE, E, B
For r1: B, r2: N, answer: N
For r1: B, r2: W, answer: W
For r1: B, r2: E, answer: E
For r1: B, r2: S, answer: S
For r1: B, r2: NW, answer: NW
For r1: B, r2: SW, answer: Given    
x B yâ€ƒâ‡’â€ƒLÊ â‰¤ Lâ‚“ ,â€ƒRâ‚“ â‰¤ RÊ ,â€ƒBÊ â‰¤ Bâ‚“ ,â€ƒTâ‚“ â‰¤ TÊ  
y SW zâ€ƒâ‡’â€ƒRÊ â‰¤ Lð“ ,â€ƒTÊ â‰¤ Bð“  

From these we get  
Râ‚“ â‰¤ RÊ â‰¤ Lð“â€ƒâ‡’â€ƒRâ‚“ â‰¤ Lð“  
Tâ‚“ â‰¤ TÊ â‰¤ Bð“â€ƒâ‡’â€ƒTâ‚“ â‰¤ Bð“  

Hence  
supx(x) â‰¤ infx(z)â€ƒandâ€ƒsupy(x) â‰¤ infy(z),

which is exactly the definition of x SW z.  
No other cardinal-direction definition is satisfied, so

Possible relation(s) between x and z:â€ƒSW
For r1: B, r2: SE, answer: SE
For r1: B, r2: NE, answer: NE
For r1: B, r2: B, answer: B
