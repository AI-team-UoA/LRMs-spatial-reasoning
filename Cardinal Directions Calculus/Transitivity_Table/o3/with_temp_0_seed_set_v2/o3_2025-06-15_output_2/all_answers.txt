For r1: N, r2: N, answer: If x N y and y N z, then x must also be N of z. No other cardinal-direction relation is possible.
For r1: N, r2: W, answer: From  
x N y: supy(y) ≤ infy(x), infx(y) ≤ infx(x), supx(x) ≤ supx(y)  
y W z: supx(y) ≤ infx(z), infy(z) ≤ infy(y), supy(y) ≤ supy(z)

Hence  
supx(x) ≤ supx(y) ≤ infx(z) ⇒ supx(x) ≤ infx(z)  (x is to the west of z).

The vertical order is not fixed:  
• If supy(z) ≤ infy(x) then z lies wholly below x, giving x NW z.  
• If supy(z) > infy(x) (and supy(x) ≤ supy(z) can be arranged) then the two boxes overlap vertically, giving x W z.

No other cardinal relation can satisfy all the required inequalities.  

Possible relations between x and z: W or NW.
For r1: N, r2: E, answer: E, NE, SE
For r1: N, r2: S, answer: N, S, B
For r1: N, r2: NW, answer: NW
For r1: N, r2: SW, answer: NW, W, SW
For r1: N, r2: SE, answer: E, NE, SE
For r1: N, r2: NE, answer: NE
For r1: N, r2: B, answer: The information we have is

1. x N y ⇒ supy(y) ≤ infy(x), infx(y) ≤ infx(x) and supx(x) ≤ supx(y).
2. y B z ⇒ infx(z) ≤ infx(y), supx(y) ≤ supx(z), infy(z) ≤ infy(y) and supy(y) ≤ supy(z).

From these inequalities we get

infx(z) ≤ infx(y) ≤ infx(x) and supx(x) ≤ supx(y) ≤ supx(z),

so the x–extent of x is contained in that of z.  
For the y–extent we have

infy(z) ≤ infy(y) ≤ supy(y) ≤ infy(x).

Hence infy(z) ≤ infy(x).  What we do not know is the relation between supy(x) and supy(z):

• If supy(x) ≤ supy(z) then the y–interval of x is also contained in that of z, and all four bounding-box inequalities for x B z are satisfied.  
• If supy(z) ≤ infy(x) then z lies completely below x, giving x N z.

No other basic relation can hold, because horizontally x is already completely inside z (so E, W, NE, NW, SE, SW are impossible) and vertically we cannot have x below z (so S is impossible).

Therefore the only possible cardinal direction relations between x and z are

B  (x is inside the bounding box of z)  
N  (x is north of z).

So the answer is: N or B.
For r1: W, r2: N, answer: N, NW
For r1: W, r2: W, answer: W
For r1: W, r2: E, answer: Depending on the horizontal placement of the two regions, the only cardinal-direction relations that can satisfy all the given constraints are  

B  (x is inside the bounding box of z),  
W  (x is West of z), or  
E  (x is East of z).
For r1: W, r2: S, answer: S, SW
For r1: W, r2: NW, answer: NW
For r1: W, r2: SW, answer: SW
For r1: W, r2: SE, answer: S, SW, SE
For r1: W, r2: NE, answer: N, NE, NW
For r1: W, r2: B, answer: The only relations that can be satisfied are

B  (x is inside the bounding box of z)   
W  (x is to the West of z)

So x is either B of z or W of z.
For r1: E, r2: N, answer: Given 
• x E y → supx(y) ≤ infx(x) and infy(y) ≤ infy(x) ≤ supy(x) ≤ supy(y)  
• y N z → supy(z) ≤ infy(y) and infx(z) ≤ infx(y) ≤ supx(y) ≤ supx(z)

From these inequalities we obtain  
supy(z) ≤ infy(y) ≤ infy(x) ⇒ supy(z) ≤ infy(x)  (so z lies completely south of x)

Hence x is north of z in the vertical sense.  
Horizontally we only know  
infx(z) ≤ infx(y) < supx(y) ≤ infx(x)  

The right bound of z, supx(z), can be either  
• ≤ infx(x) (in which case z is entirely west of x), or  
• ≥ supx(x) (in which case x is contained in the horizontal extent of z).

Therefore two different cardinal relations between x and z are possible:

1. NE (North-East) if supx(z) ≤ infx(x)  
2. N  (North)    if supx(x) ≤ supx(z)

No other cardinal relation can satisfy all the inequalities simultaneously.

Possible relations between region x and region z:  N, NE
For r1: E, r2: W, answer: E, W, B
For r1: E, r2: E, answer: E
For r1: E, r2: S, answer: S, SE
For r1: E, r2: NW, answer: The only cardinal direction relations that can hold between x and z are  
N, NE, and NW.
For r1: E, r2: SW, answer: S, SW, SE
For r1: E, r2: SE, answer: SE
For r1: E, r2: NE, answer: From  

x E y ⇒ supx(y) ≤ infx(x), infy(y) ≤ infy(x), supy(x) ≤ supy(y)  
y NE z ⇒ supx(z) ≤ infx(y), supy(z) ≤ infy(y)

Chain the inequalities:

supx(z) ≤ infx(y) ≤ supx(y) ≤ infx(x) ⇒ supx(z) ≤ infx(x)  
supy(z) ≤ infy(y) ≤ infy(x)       ⇒ supy(z) ≤ infy(x)

Thus both  
supx(z) ≤ infx(x) and supy(z) ≤ infy(x)  
hold.  

These are exactly the two conditions for x NE z.

No other cardinal-direction definition can be satisfied simultaneously with these two strict constraints (the additional requirements for N, E, B, etc. all fail). Therefore the only possible relation between x and z is

NE
For r1: E, r2: B, answer: E or B
For r1: S, r2: N, answer: N, S, B
For r1: S, r2: W, answer: W, SW
For r1: S, r2: E, answer: E, SE
For r1: S, r2: S, answer: The only relation that can hold between x and z is S (South).
For r1: S, r2: NW, answer: NW, W, SW
For r1: S, r2: SW, answer: SW
For r1: S, r2: SE, answer: SE
For r1: S, r2: NE, answer: NE, E or SE
For r1: S, r2: B, answer: The relation between x and z can only be

S  or  B
For r1: NW, r2: N, answer: NW
For r1: NW, r2: W, answer: NW, W
For r1: NW, r2: E, answer: B, N, NE, E, NW, W
For r1: NW, r2: S, answer: The relations that can hold between x and z are

N, S, W, NW, SW, B
For r1: NW, r2: NW, answer: NW
For r1: NW, r2: SW, answer: NW, W, SW
For r1: NW, r2: SE, answer: N, NE, E, SE, S, SW, W, NW, B
For r1: NW, r2: NE, answer: NW, N, NE
For r1: NW, r2: B, answer: NW, N, W, B
For r1: SW, r2: N, answer: Possible relations:  N, S, W, NW, SW, B
For r1: SW, r2: W, answer: W, SW
For r1: SW, r2: E, answer: The composition
  x SW y  and  y E z
can be realised with x and z in several different relative positions.  
The relations that can occur between x and z are

SW , W , S , SE , E , B
For r1: SW, r2: S, answer: SW, S
For r1: SW, r2: NW, answer: SW, W, or NW
For r1: SW, r2: SW, answer: SW
For r1: SW, r2: SE, answer: SW, S, SE
For r1: SW, r2: NE, answer: N, NE, E, SE, S, SW, W, NW, B
For r1: SW, r2: B, answer: SW, W, S, B
For r1: SE, r2: N, answer: B, S, SE, E, NE, N
For r1: SE, r2: W, answer: B, S, SE, E, W, SW
For r1: SE, r2: E, answer: E, SE
For r1: SE, r2: S, answer: S, SE
For r1: SE, r2: NW, answer: Any one of the nine relations can occur; that is, between x and z every relation

N, NE, E, SE, S, SW, W, NW, B

is possible.
For r1: SE, r2: SW, answer: The only relations that can hold between x and z are  
SW, S or SE.
For r1: SE, r2: SE, answer: SE
For r1: SE, r2: NE, answer: NE, E, SE
For r1: SE, r2: B, answer: The constraints

1. x SE y ⇒ supx(y) ≤ infx(x) and supy(x) ≤ infy(y)
2. y B z ⇒ infx(z) ≤ infx(y), supx(y) ≤ supx(z), infy(z) ≤ infy(y), supy(y) ≤ supy(z)

imply

• infx(z) ≤ infx(y) ≤ supx(y) ≤ infx(x)  → infx(z) ≤ infx(x)  
• supy(x) ≤ infy(y) and infy(z) ≤ infy(y)

From these inequalities we can realise the following relations between x and z by choosing suitable bounding boxes for z:

B (x is inside the bounding box of z)  
S (x is South of z)  
E (x is East of z)  
SE (x is South-East of z)

For the other five relations at least one defining inequality contradicts the chain deduced above, so they cannot occur.

Therefore the possible relations between x and z are:

B, S, E, SE
For r1: NE, r2: N, answer: The relation between x and z can only be

N or NE
For r1: NE, r2: W, answer: The composition NE ∘ W can yield any of the following cardinal-direction relations between x and z:

N, NE, NW, E, W, B
For r1: NE, r2: E, answer: E, NE
For r1: NE, r2: S, answer: N, NE, E, SE, S, B
For r1: NE, r2: NW, answer: The only relations that can result between x and z are  
N, NE, NW
For r1: NE, r2: SW, answer: N, NE, E, SE, S, SW, W, NW, B
For r1: NE, r2: SE, answer: E, NE, SE
For r1: NE, r2: NE, answer: NE
For r1: NE, r2: B, answer: The possible relations are:  N, NE, E, B
For r1: B, r2: N, answer: N
For r1: B, r2: W, answer: W
For r1: B, r2: E, answer: E
For r1: B, r2: S, answer: S
For r1: B, r2: NW, answer: NW
For r1: B, r2: SW, answer: Given    
x B y ⇒ Lʏ ≤ Lₓ , Rₓ ≤ Rʏ , Bʏ ≤ Bₓ , Tₓ ≤ Tʏ  
y SW z ⇒ Rʏ ≤ L𝓏 , Tʏ ≤ B𝓏  

From these we get  
Rₓ ≤ Rʏ ≤ L𝓏 ⇒ Rₓ ≤ L𝓏  
Tₓ ≤ Tʏ ≤ B𝓏 ⇒ Tₓ ≤ B𝓏  

Hence  
supx(x) ≤ infx(z) and supy(x) ≤ infy(z),

which is exactly the definition of x SW z.  
No other cardinal-direction definition is satisfied, so

Possible relation(s) between x and z: SW
For r1: B, r2: SE, answer: SE
For r1: B, r2: NE, answer: NE
For r1: B, r2: B, answer: B
