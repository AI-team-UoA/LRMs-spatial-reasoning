For r1: N, r2: N, answer: N
For r1: N, r2: W, answer: W, NW
For r1: N, r2: E, answer: NE, E
For r1: N, r2: S, answer: N, S, B
For r1: N, r2: NW, answer: NW
For r1: N, r2: SW, answer: W, NW or SW
For r1: N, r2: SE, answer: NE, E, SE
For r1: N, r2: NE, answer: NE
For r1: N, r2: B, answer: The relation between x and z can only be  

B  (x is bounded by z)  or  
N  (x is North of z).
For r1: W, r2: N, answer: N, NW
For r1: W, r2: W, answer: W
For r1: W, r2: E, answer: W, E, or B
For r1: W, r2: S, answer: S, SW
For r1: W, r2: NW, answer: NW
For r1: W, r2: SW, answer: SW
For r1: W, r2: SE, answer: The relation between x and z must place x somewhere south of z.  
Depending on their relative positions in the x-direction, the following three relations are possible:

SW   – if x is completely west of z;  
S    – if x’s x-projection lies within that of z;  
SE   – if x is completely east of z.

No other cardinal direction satisfies all given constraints, so the possible relations are:

SW, S, SE
For r1: W, r2: NE, answer: N, NE, NW
For r1: W, r2: B, answer: W, B
For r1: E, r2: N, answer: N, NE
For r1: E, r2: W, answer: B, E or W
For r1: E, r2: E, answer: E
For r1: E, r2: S, answer: S, SE
For r1: E, r2: NW, answer: The only relations that can still hold between x and z are

N, NE, NW
For r1: E, r2: SW, answer: S, SE, SW
For r1: E, r2: SE, answer: SE
For r1: E, r2: NE, answer: NE
For r1: E, r2: B, answer: E, B
For r1: S, r2: N, answer: N, S, B
For r1: S, r2: W, answer: W, SW
For r1: S, r2: E, answer: E, SE
For r1: S, r2: S, answer: S
For r1: S, r2: NW, answer: SW, W, NW
For r1: S, r2: SW, answer: SW
For r1: S, r2: SE, answer: SE
For r1: S, r2: NE, answer: NE, E, SE
For r1: S, r2: B, answer: Between x and z the relation must still be in the same vertical column (x is horizontally inside z), so only the following two relations are compatible with  
x S y and y B z:

B  (x’s bounding box is inside z’s)  
S  (x is strictly to the South of z)

Hence the possible relations are: B, S.
For r1: NW, r2: N, answer: The only relations that can hold between x and z are

N, NW
For r1: NW, r2: W, answer: The only relations that can occur between x and z are

W   or   NW
For r1: NW, r2: E, answer: N, NE, NW, E, W, B
For r1: NW, r2: S, answer: The relation between x and z can be any one of  
N, NW, W, SW, S or B.
For r1: NW, r2: NW, answer: NW
For r1: NW, r2: SW, answer: W, NW, SW
For r1: NW, r2: SE, answer: N, NE, E, SE, S, SW, W, NW, B
For r1: NW, r2: NE, answer: x can only end up somewhere north of z.  
Depending on their horizontal positions the three possible cardinal-direction relations are  

NW, N, NE
For r1: NW, r2: B, answer: N, NW, W, B
For r1: SW, r2: N, answer: N, NW, W, SW, S, B
For r1: SW, r2: W, answer: W, SW
For r1: SW, r2: E, answer: The composition SW ∘ E can yield the following cardinal-direction relations:

SW , S , SE , W , E , B
For r1: SW, r2: S, answer: S, SW
For r1: SW, r2: NW, answer: The only relations that can be satisfied are  
SW, W, and NW.
For r1: SW, r2: SW, answer: SW
For r1: SW, r2: SE, answer: S, SW, SE
For r1: SW, r2: NE, answer: N, NE, E, SE, S, SW, W, NW, B
For r1: SW, r2: B, answer: Possible relations: SW, S, W, B
For r1: SE, r2: N, answer: N, NE, E, SE, S, B
For r1: SE, r2: W, answer: SW, W, S, SE, E, B
For r1: SE, r2: E, answer: E, SE
For r1: SE, r2: S, answer: S, SE
For r1: SE, r2: NW, answer: N, NE, E, SE, S, SW, W, NW, B
For r1: SE, r2: SW, answer: S, SE, SW
For r1: SE, r2: SE, answer: SE
For r1: SE, r2: NE, answer: NE, E, SE
For r1: SE, r2: B, answer: S, SE, E, B
For r1: NE, r2: N, answer: N, NE
For r1: NE, r2: W, answer: N, NE, E, W, NW, B
For r1: NE, r2: E, answer: NE, E
For r1: NE, r2: S, answer: N, NE, E, SE, S, B
For r1: NE, r2: NW, answer: N, NE, NW
For r1: NE, r2: SW, answer: N, NE, E, SE, S, SW, W, NW, B
For r1: NE, r2: SE, answer: NE, E or SE
For r1: NE, r2: NE, answer: NE
For r1: NE, r2: B, answer: The constraints

x NE y  ⇒  supx(y) ≤ infx(x) and supy(y) ≤ infy(x)  
y B z    ⇒  infx(z) ≤ infx(y) ≤ supx(y) ≤ supx(z)  
       and infy(z) ≤ infy(y) ≤ supy(y) ≤ supy(z)

imply

infx(z) ≤ infx(y) ≤ supx(y) ≤ infx(x)  (1)  
infy(z) ≤ infy(y) ≤ supy(y) ≤ infy(x)  (2)

From (1) and (2) we can still freely choose the other ends of the bounding boxes
(supx(x), supy(x), supx(z), supy(z)), so four different relative positions of x and z
can be realised:

1.  B  (x is inside z):  
    choose supx(x) and supy(x) small enough and pick z large enough.

2.  N  (x north of z):  
    make supy(z) lower than infy(x) while letting z’s x–interval cover that of x.

3.  E  (x east of z):  
    make supx(z) lower than infx(x) while letting z’s y–interval cover that of x.

4.  NE (x north-east of z):  
    make both supx(z) ≤ infx(x) and supy(z) ≤ infy(x).

Trying to satisfy the defining inequalities for S, SE, SW, W or NW together with
(1)–(2) leads to contradictions (they would force, e.g., infy(x)=supy(x) or
infx(x)=supx(x), which is impossible for a 2-dimensional region).

Hence the possible cardinal-direction relations between x and z are

B, N, NE, E.
For r1: B, r2: N, answer: N
For r1: B, r2: W, answer: W
For r1: B, r2: E, answer: E
For r1: B, r2: S, answer: S
For r1: B, r2: NW, answer: NW
For r1: B, r2: SW, answer: x SW z
For r1: B, r2: SE, answer: SE
For r1: B, r2: NE, answer: NE
For r1: B, r2: B, answer: B
